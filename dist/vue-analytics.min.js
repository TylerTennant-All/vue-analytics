/*!
 * vue-analytics v3.0.1
 * (c) 2017 Matteo Gabriele
 * Released under the ISC License.
 */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("load-script")):"function"==typeof define&&define.amd?define(["load-script"],t):n.VueAnalytics=t(n.loadScript)}(this,function(n){"use strict";n="default"in n?n.default:n;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},e=function(){for(var n=arguments.length,t=Array(n),e=0;e<n;e++)t[e]=arguments[e];console.warn("[VueAnalytics] "+t.join(" "))},o=function(n){return!(!r.ignoreRoutes.length||r.ignoreRoutes.indexOf(n)===-1)},a=function n(e,o){return Object.keys(o).forEach(function(a){return e[a]&&"object"===t(e[a])?void n(e[a],o[a]):void(e[a]=o[a])}),e},i=function(n){return n.replace(/-/gi,"")},r={debug:{enabled:!1,trace:!1,sendHitTask:!0},autoTracking:!0,id:null,userId:null,ignoreRoutes:[]},c=function(n){return a(r,n)},u=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";"undefined"!=typeof window.ga&&[].concat(r.id).forEach(function(o){window.ga(i(o)+".send","pageview",{page:n,title:t,location:e})})},d=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;"undefined"!=typeof window.ga&&[].concat(r.id).forEach(function(a){window.ga(i(a)+".send","event",n,t,e,o)})},f=function(n,t,e){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";"undefined"!=typeof window.ga&&[].concat(r.id).forEach(function(a){window.ga(i(a)+".send","timing",n,t,e,o)})},l=function(){for(var n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];if("undefined"!=typeof window.ga&&o.length)return"object"===t(o[0])&&o[0].constructor===Object?void window.ga("set",o[0]):o.length<2||"string"!=typeof o[0]&&"string"!=typeof o[1]?void e("$ga.set needs a field name and a field value, or you can pass an object literal"):void[].concat(r.id).forEach(function(n){window.ga(i(n)+".set",o[0],o[1])})},g=function(n){if(r.manual&&!n&&r.autoTracking){var t="https://github.com/MatteoGabriele/vue-analytics#auto-tracking";return void e("auto-tracking doesn't work without a router instance.",t)}if(r.autoTracking&&n){var a=n.currentRoute;o(a.name)||u(a.path,a.name,window.location.href),n.afterEach(function(n){var t=n.path,e=n.name;o(e)||u(t,e,window.location.href)})}},s=function(t,o){if(!r.manual){if(!r.id||!r.id.length){var a="https://github.com/MatteoGabriele/vue-analytics#usage";return void e("Please enter a Google Analaytics tracking ID",a)}var i=r.userId||{},c=r.debug.enabled?"_debug":"",u="https://www.google-analytics.com/analytics"+c+".js";n(u,function(n,a){if(n)return void e("Ops! Could't load the Google Analytics script");o&&"function"==typeof o&&o();var c=setInterval(function(){window.ga&&(clearInterval(c),r.debug.enabled&&(window.ga_debug={trace:r.debug.trace}),[].concat(r.id).forEach(function(n){i.name=n.replace(/-/g,""),window.ga("create",n,"auto",i)}),r.debug.sendHitTask||l("sendHitTask",null),window.ga("send","pageview"),g(t))},10)})}},w=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=t.router;delete t.router,c(t),s(e,t.onAnalyticsReady);var o={trackEvent:d,trackPage:u,trackTime:f,set:l};n.prototype.$ga=n.$ga=o},y={install:w};return y});